<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Guide du Détour</title>
  <meta name="description" content="Transformez un trajet A → B en voyage. Découvrez des lieux intéressants à proximité de votre itinéraire, selon le détour que vous acceptez." />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#FAFAFA] text-gray-800 antialiased">

  <!-- HERO -->
  <section class="min-h-screen flex items-center px-6">
    <div class="max-w-6xl mx-auto w-full grid lg:grid-cols-2 gap-12 items-center">
      <!-- Text -->
      <div class="text-center lg:text-left">
        <h1 class="text-4xl md:text-6xl font-semibold leading-tight">
          Vous allez d’un point A à un point B ?
          <span class="text-gray-900 block mt-2">Et si le trajet devenait le voyage.</span>
        </h1>

        <p class="mt-6 text-lg md:text-xl text-gray-600 max-w-2xl mx-auto lg:mx-0">
          Guide du Détour vous propose des lieux intéressants à proximité de votre itinéraire,
          dans la limite du détour que vous acceptez.
        </p>

        <div class="mt-10 flex flex-col sm:flex-row gap-3 justify-center lg:justify-start">
          <a href="#cta"
             class="inline-flex items-center justify-center px-8 py-4 bg-gray-900 text-white rounded-full text-lg hover:bg-gray-700 transition">
            Créer un itinéraire
          </a>
          <a href="#how"
             class="inline-flex items-center justify-center px-8 py-4 bg-white text-gray-900 rounded-full text-lg ring-1 ring-gray-200 hover:ring-gray-300 transition">
            Voir comment ça marche
          </a>
        </div>

        <p class="mt-6 text-sm text-gray-500">
          Accès progressif — sur invitation
        </p>
      </div>

      <!-- Phone mockup + slider -->
      <div class="flex justify-center lg:justify-end">
        <div class="relative">
          <!-- Soft backdrop -->
          <div class="absolute -inset-6 rounded-[48px] bg-white/60 blur-2xl"></div>

          <!-- Phone body -->
          <div class="relative w-[280px] sm:w-[320px] md:w-[360px] aspect-[9/19] rounded-[44px] bg-gray-900 p-[10px] shadow-2xl">
            <!-- Inner bezel -->
            <div class="relative w-full h-full rounded-[36px] bg-black overflow-hidden">
              <!-- Notch -->
              <div class="absolute top-3 left-1/2 -translate-x-1/2 w-32 h-6 rounded-full bg-black/80 ring-1 ring-white/10 z-20"></div>

              <!-- Screen image (PNG slider) -->
              <img
                id="appSlider"
                src="./screen1.png"
                alt="Aperçu de l’application"
                class="w-full h-full object-cover opacity-100 transition-opacity duration-700"
              />

              <!-- Fallback if no images can be loaded -->
              <div id="sliderFallback" class="hidden w-full h-full items-center justify-center p-8 text-center">
                <div class="text-white/80">
                  <div class="text-xl font-semibold">Ajoutez vos captures</div>
                  <div class="mt-2 text-sm text-white/60">
                    Placez <span class="font-mono">screen1.png</span> … <span class="font-mono">screen5.png</span><br/>
                    à côté de <span class="font-mono">index.html</span>
                  </div>
                </div>
              </div>

              <!-- Subtle overlay -->
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/25 via-transparent to-white/5 z-10"></div>

              <!-- Dots -->
              <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-20">
                <span class="dot w-2 h-2 rounded-full bg-white/40"></span>
                <span class="dot w-2 h-2 rounded-full bg-white/40"></span>
                <span class="dot w-2 h-2 rounded-full bg-white/40"></span>
                <span class="dot w-2 h-2 rounded-full bg-white/40"></span>
                <span class="dot w-2 h-2 rounded-full bg-white/40"></span>
              </div>
            </div>
          </div>

          <div class="mt-4 text-center text-sm text-gray-500">
            Aperçu de l’application
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROBLEME -->
  <section class="py-24 px-6 max-w-5xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-semibold mb-6">
      Les GPS vont vite.<br>Mais ils passent à côté de l’essentiel.
    </h2>

    <p class="text-lg text-gray-600 max-w-3xl">
      Villages, églises, ponts anciens, lieux insolites…
      Ils sont souvent à quelques minutes de la route.
      <br><br>
      Vous arrivez à destination.<br>
      Mais vous n’avez rien vu.
    </p>
  </section>

  <!-- SOLUTION -->
  <section class="py-24 px-6 bg-white">
    <div class="max-w-5xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-semibold mb-6">
        Un GPS qui sait s’écarter.
      </h2>

      <p class="text-lg text-gray-600 max-w-3xl">
        Vous créez un itinéraire classique.
        Guide du Détour vous propose des points d’intérêt
        selon le temps que vous êtes prêt à consacrer au détour.
      </p>

      <div class="mt-10 grid sm:grid-cols-3 gap-4 max-w-2xl">
        <div class="rounded-3xl bg-[#FAFAFA] ring-1 ring-gray-100 p-6">
          <div class="text-gray-900 font-semibold">5 minutes</div>
          <div class="mt-1 text-sm text-gray-600">Petit détour, grand effet.</div>
        </div>
        <div class="rounded-3xl bg-[#FAFAFA] ring-1 ring-gray-100 p-6">
          <div class="text-gray-900 font-semibold">10 minutes</div>
          <div class="mt-1 text-sm text-gray-600">Le bon équilibre.</div>
        </div>
        <div class="rounded-3xl bg-[#FAFAFA] ring-1 ring-gray-100 p-6">
          <div class="text-gray-900 font-semibold">20 minutes</div>
          <div class="mt-1 text-sm text-gray-600">Pour les curieux.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- COMMENT -->
  <section id="how" class="py-24 px-6 max-w-5xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-semibold mb-10">
      Comment ça marche
    </h2>

    <div class="grid md:grid-cols-3 gap-10 text-lg text-gray-600">
      <div class="bg-white rounded-3xl p-8 ring-1 ring-gray-100">
        <strong class="text-gray-900">1. Créez votre trajet</strong><br>
        Comme avec n’importe quel GPS.
      </div>
      <div class="bg-white rounded-3xl p-8 ring-1 ring-gray-100">
        <strong class="text-gray-900">2. Choisissez le détour</strong><br>
        Quelques minutes suffisent parfois à tout changer.
      </div>
      <div class="bg-white rounded-3xl p-8 ring-1 ring-gray-100">
        <strong class="text-gray-900">3. Découvrez</strong><br>
        Ce que vous auriez manqué autrement.
      </div>
    </div>
  </section>

  <!-- GUIDE VOCAL -->
  <section class="py-24 px-6 bg-white">
    <div class="max-w-5xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-semibold mb-6">
        Un compagnon de route discret
      </h2>

      <p class="text-lg text-gray-600 max-w-3xl">
        Guide du Détour peut vous signaler en chemin :
        <br><br>
        « Si vous tournez à droite et roulez un kilomètre,
        vous découvrirez une ancienne église… »
      </p>
    </div>
  </section>

  <!-- CTA -->
  <section id="cta" class="py-32 px-6 text-center">
    <h2 class="text-4xl font-semibold mb-6">
      Votre prochaine route peut être plus intéressante.
    </h2>

    <a href="#"
       class="inline-block mt-6 px-10 py-4 bg-gray-900 text-white rounded-full text-lg hover:bg-gray-700 transition">
      Tester Guide du Détour
    </a>

    <p class="mt-4 text-sm text-gray-500">
      Accès progressif — sur invitation
    </p>
  </section>

  <!-- Slider script (robust: skips missing images, no permanent hide) -->
  <script>
    (function () {
      const screens = [
        "./screen1.png",
        "./screen2.png",
        "./screen3.png",
        "./screen4.png",
        "./screen5.png"
      ];

      const img = document.getElementById("appSlider");
      const fallback = document.getElementById("sliderFallback");
      const dots = Array.from(document.querySelectorAll(".dot"));

      if (!img) return;

      let index = 0;
      const intervalMs = 2200;
      const fadeOutMs = 350;

      function setActiveDot(i) {
        dots.forEach((d, idx) => {
          d.classList.toggle("bg-white/90", idx === i);
          d.classList.toggle("bg-white/40", idx !== i);
        });
      }

      function canLoad(src) {
        return new Promise((resolve) => {
          const test = new Image();
          test.onload = () => resolve(true);
          test.onerror = () => resolve(false);
          test.src = src + (src.includes("?") ? "&" : "?") + "v=" + Date.now(); // avoid stale cache while testing
        });
      }

      async function findNextValid(startIdx) {
        for (let step = 0; step < screens.length; step++) {
          const i = (startIdx + step) % screens.length;
          if (await canLoad(screens[i])) return i;
        }
        return -1;
      }

      async function init() {
        const firstValid = await findNextValid(0);
        if (firstValid === -1) {
          img.classList.add("hidden");
          fallback.classList.remove("hidden");
          return;
        }
        index = firstValid;
        img.src = screens[index];
        setActiveDot(index);
      }

      async function tick() {
        img.classList.add("opacity-0");

        setTimeout(async () => {
          const nextIdx = await findNextValid(index + 1);
          if (nextIdx === -1) {
            img.classList.add("hidden");
            fallback.classList.remove("hidden");
            return;
          }

          index = nextIdx;
          img.src = screens[index];
          setActiveDot(index);
          img.classList.remove("opacity-0");
        }, fadeOutMs);
      }

      init().then(() => {
        setInterval(tick, intervalMs);
      });
    })();
  </script>

</body>
</html>
